.pos-selector-container {
  display: flex;
  flex-direction: column;
  padding: 0;

  .pos-selector-row {
    display: flex;
    flex-grow: 1;
    
    > .pos-selector-left, .pos-selector-right {
      display: flex;
      justify-content: center;
    }

    > .middle {
      position: relative;
      padding: 0;
      margin: 10px;
    }

    .pos-selector-image-container {
      justify-content: center;
      position: relative;
      overflow: hidden;

      > :not(.pos-selector-image) {
        position: absolute;
        transform: translate(-50%, 50%);
      }
    }
  }
}

$b-near: calc(50% - 35% - 1.5em);
$b-far: calc(50% + 35% + 1.5em);
$l-red: 90%;
$l-blue: 10%;

$year-role-locations: (
  "scorer-ABh": (calc(50% - 3% - 1.2rem), 50% - 15%),
  "scorer-ABl": (calc(50% - 3% + 1.2rem), 50% - 23%),
  "scorer-CDh": (calc(50% + 3% - 1.2rem), 50% + 23%),
  "scorer-CDl": (calc(50% + 3% + 1.2rem), 50% + 15%)
);

$role-locations: map-merge((
  "estop-red-1": ($l-red, 30%),
  "estop-red-2": ($l-red, 45%),
  "estop-red-3": ($l-red, 60%),
  "estop-blue-1": ($l-blue, 70%),
  "estop-blue-2": ($l-blue, 55%),
  "estop-blue-3": ($l-blue, 40%),
  "ref-head": (50%, $b-near),
  "ref-blue-near": (50% - 20%, $b-near),
  "ref-red-near": (50% + 20%, $b-near),
  "ref-blue-far": (50% - 20%, $b-far),
  "ref-red-far": (50% + 20%, $b-far),
  "monitor": (40%, $b-near),
), $year-role-locations);

.field-pos-resource {
  &[data-role] {
    display: none;  // Hide anything we don't have a role for
    .btn {
      border: 0.15em solid black;
      font-size: 1em !important;
    }
  }

  @each $key, $rloc in $role-locations {
    &[data-role=#{$key}] {
      display: block;
      left: nth($rloc, 1);
      bottom: nth($rloc, 2);
    }
  }

  &[data-fta=true] {
    display: block;
    left: 60%;
    bottom: $b-near;
  }

  &[data-role*="-red-"] {
    .btn { @extend .btn-red; }
  }
  &[data-role*="-blue-"] {
    .btn { @extend .btn-blue; }
  }
  &[data-role="ref-head"] {
    .btn { @extend .btn-purple; }
  }
}

.resource-indicator {
  width: 1.5em;
  height: 1.5em;
  margin: 0.1em 0.1em 0 0.1em;
  border: 1px solid darken(theme-color("dark"), 10%);
  border-radius: 0.2em;
  background-color: lighten(theme-color("dark"), 10%);
  display: flex;
  color: $gray-400;
  font-weight: bold;
  font-size: 1.8em;

  justify-content: center;
  align-items: center;

  &[data-satisfied=false] {
    background-color: theme-color("bad");
    color: darken(theme-color("bad"), 30%);
  }

  &[data-ready=true] {
    background-color: theme-color("good");
    color: darken(theme-color("good"), 20%);
  }

  &[data-fta=true] {
    border: 3px solid lighten(theme-color("gold"), 10%);
  }

  &[data-role="ref-head"] {
    border: 3px solid lighten(theme-color("purple"), 10%);
  }
}

.resource-accordion-header {
  &[data-ready=true] {
    .accordion-button {
      background-color: darken(theme-color("good"), 20%);
    }
  }
}

.paginate {
  .paginate-footer {
    > * {
      display: flex;
      justify-content: center;
      align-items: center;

      color: $gray-400;
    }
  }
}