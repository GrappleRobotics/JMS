{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TempWebsocketRootSchema",
  "definitions": {
    "ArenaSignal": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "Estop",
            "EstopReset",
            "Prestart",
            "PrestartUndo",
            "MatchPlay",
            "MatchCommit"
          ]
        },
        {
          "type": "object",
          "required": [
            "MatchArm"
          ],
          "properties": {
            "MatchArm": {
              "type": "object",
              "required": [
                "force"
              ],
              "properties": {
                "force": {
                  "type": "boolean"
                }
              }
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "ArenaState": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "state"
          ],
          "properties": {
            "state": {
              "type": "string",
              "enum": [
                "Init"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "state"
          ],
          "properties": {
            "state": {
              "type": "string",
              "enum": [
                "Reset"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "net_ready",
            "state"
          ],
          "properties": {
            "net_ready": {
              "type": "boolean"
            },
            "state": {
              "type": "string",
              "enum": [
                "Idle"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "state"
          ],
          "properties": {
            "state": {
              "type": "string",
              "enum": [
                "Estop"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "net_ready",
            "state"
          ],
          "properties": {
            "net_ready": {
              "type": "boolean"
            },
            "state": {
              "type": "string",
              "enum": [
                "Prestart"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "state"
          ],
          "properties": {
            "state": {
              "type": "string",
              "enum": [
                "MatchArmed"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "state"
          ],
          "properties": {
            "state": {
              "type": "string",
              "enum": [
                "MatchPlay"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "net_ready",
            "state"
          ],
          "properties": {
            "net_ready": {
              "type": "boolean"
            },
            "state": {
              "type": "string",
              "enum": [
                "MatchComplete"
              ]
            }
          }
        }
      ]
    },
    "AuthResult": {
      "oneOf": [
        {
          "type": "string",
          "enum": [
            "NoToken"
          ]
        },
        {
          "type": "object",
          "required": [
            "AuthSuccess"
          ],
          "properties": {
            "AuthSuccess": {
              "type": "array",
              "items": [
                {
                  "$ref": "#/definitions/User"
                },
                {
                  "$ref": "#/definitions/UserToken"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          },
          "additionalProperties": false
        },
        {
          "type": "object",
          "required": [
            "AuthSuccessNewPin"
          ],
          "properties": {
            "AuthSuccessNewPin": {
              "type": "array",
              "items": [
                {
                  "$ref": "#/definitions/User"
                },
                {
                  "$ref": "#/definitions/UserToken"
                }
              ],
              "maxItems": 2,
              "minItems": 2
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "User": {
      "type": "object",
      "required": [
        "permissions",
        "pin_is_numeric",
        "realname",
        "tokens",
        "username"
      ],
      "properties": {
        "permissions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "pin_hash": {
          "type": [
            "string",
            "null"
          ]
        },
        "pin_is_numeric": {
          "type": "boolean"
        },
        "realname": {
          "type": "string"
        },
        "tokens": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "username": {
          "type": "string"
        }
      }
    },
    "UserToken": {
      "type": "object",
      "required": [
        "token",
        "user"
      ],
      "properties": {
        "token": {
          "type": "string"
        },
        "user": {
          "type": "string"
        }
      }
    },
    "WebsocketPublish": {
      "title": "WebsocketPublish",
      "oneOf": [
        {
          "required": [
            "debug"
          ],
          "properties": {
            "debug": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "test_publish"
                  ],
                  "properties": {
                    "test_publish": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        {
          "required": [
            "arena"
          ],
          "properties": {
            "arena": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "state"
                  ],
                  "properties": {
                    "state": {
                      "$ref": "#/definitions/ArenaState"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        }
      ]
    },
    "WebsocketRpcRequest": {
      "title": "WebsocketRpcRequest",
      "oneOf": [
        {
          "required": [
            "debug"
          ],
          "properties": {
            "debug": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "test_endpoint"
                  ],
                  "properties": {
                    "test_endpoint": {
                      "type": "object",
                      "required": [
                        "in_text"
                      ],
                      "properties": {
                        "in_text": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        {
          "required": [
            "user"
          ],
          "properties": {
            "user": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "auth_with_token"
                  ],
                  "properties": {
                    "auth_with_token": {
                      "type": "object"
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "required": [
                    "auth_with_pin"
                  ],
                  "properties": {
                    "auth_with_pin": {
                      "type": "object",
                      "required": [
                        "pin",
                        "username"
                      ],
                      "properties": {
                        "pin": {
                          "type": "string"
                        },
                        "username": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "required": [
                    "logout"
                  ],
                  "properties": {
                    "logout": {
                      "type": "object"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        {
          "required": [
            "arena"
          ],
          "properties": {
            "arena": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "signal"
                  ],
                  "properties": {
                    "signal": {
                      "type": "object",
                      "required": [
                        "signal"
                      ],
                      "properties": {
                        "signal": {
                          "$ref": "#/definitions/ArenaSignal"
                        }
                      }
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        }
      ]
    },
    "WebsocketRpcResponse": {
      "title": "WebsocketRpcResponse",
      "oneOf": [
        {
          "required": [
            "debug"
          ],
          "properties": {
            "debug": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "test_endpoint"
                  ],
                  "properties": {
                    "test_endpoint": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        {
          "required": [
            "user"
          ],
          "properties": {
            "user": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "auth_with_token"
                  ],
                  "properties": {
                    "auth_with_token": {
                      "$ref": "#/definitions/AuthResult"
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "required": [
                    "auth_with_pin"
                  ],
                  "properties": {
                    "auth_with_pin": {
                      "$ref": "#/definitions/AuthResult"
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "required": [
                    "logout"
                  ],
                  "properties": {
                    "logout": {
                      "type": "null"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        {
          "required": [
            "arena"
          ],
          "properties": {
            "arena": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "signal"
                  ],
                  "properties": {
                    "signal": {
                      "type": "null"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        }
      ]
    }
  }
}